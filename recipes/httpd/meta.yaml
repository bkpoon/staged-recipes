{% set name = "httpd" %}
{% set version = "2.4.62" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  - url: https://dlcdn.apache.org/httpd/{{ name }}-{{ version }}.tar.bz2
    sha256: 674188e7bf44ced82da8db522da946849e22080d73d16c93f7f4df89e25729ec
    folder: httpd
  - url: https://dlcdn.apache.org//apr/apr-1.7.5.tar.bz2
    sha256: cd0f5d52b9ab1704c72160c5ee3ed5d3d4ca2df4a7f8ab564e3cb352b67232f2
    folder: apr
  - url: https://dlcdn.apache.org//apr/apr-util-1.6.3.tar.bz2
    sha256: a41076e3710746326c3945042994ad9a4fcac0ce0277dd8fea076fec3c9772b5
    folder: apr-util
  - url: https://github.com/GrahamDumpleton/mod_wsgi/archive/refs/tags/5.0.1.tar.gz
    folder: wsgi

build:
  skip: true  # [not linux]
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ stdlib('c') }}
    - {{ compiler('cxx') }}
    - libtool
    - make
    - perl
    - python
  host:
    - expat
    - libnghttp2
    - libsqlite
    - libuuid
    - libxcrypt
    - openssl
    - pcre2
    - perl
    - python
  run:
    - libexpat
    - libnghttp2
    - libsqlite
    - libuuid
    - libxcrypt
    - openssl
    - pcre2
    - python

    - django
    - latexcodec
    - mysql
    - postgresql
    - psycopg2
    - pybtex
    - pytz
    - requests

test:
  commands:
    - cp -a ${CONDA_PREFIX}/conf.orig ${CONDA_PREFIX}/conf; apachectl --help || true

about:
  home: https://httpd.apache.org
  summary: 'The Apache HTTP server project'
  description: |
    The Apache HTTP Server Project is an effort to develop and maintain an
    open-source HTTP server for modern operating systems including UNIX and
    Windows. The goal of this project is to provide a secure, efficient and
    extensible server that provides HTTP services in sync with the current
    HTTP standards.
    The Apache HTTP Server ("httpd") was launched in 1995 and it has been
    the most popular web server on the Internet since April 1996. It has
    celebrated its 25th birthday as a project in February 2020.
    The Apache HTTP Server is a project of The Apache Software Foundation.
  license: Apache-2.0
  license_family: Apache
  doc_url: https://httpd.apache.org/docs-project/
  dev_url: https://httpd.apache.org

extra:
  recipe-maintainers:
    - bkpoon
